/*Panel for updateing and deleting books
 Ross van der Heyde
 Started 19 January 2014*/
package library;

import java.awt.Color;
import javax.swing.DefaultComboBoxModel;

/**
 *
 * @author ross
 */
public class UpdateBookPanel extends javax.swing.JPanel {

    /**
     * Creates new form UpdateBookPanel
     */
    public UpdateBookPanel(Driver d) {
        initComponents();
        driver = d;
        radDum.setVisible(false);
        setComboUpdateModel();

        comboSGT.setVisible(false);
        comboDewey1.setVisible(false);
        comboDewey2.setVisible(false);
        comboDewey3.setVisible(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        groupUpdate = new javax.swing.ButtonGroup();
        lUpdateBook = new javax.swing.JLabel();
        lID = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        butDelete = new javax.swing.JButton();
        tfDeleteID = new javax.swing.JTextField();
        radFiction = new javax.swing.JRadioButton();
        radNonFiction = new javax.swing.JRadioButton();
        radDum = new javax.swing.JRadioButton();
        updateMessPanel = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        textPane = new javax.swing.JTextPane();
        jSeparator1 = new javax.swing.JSeparator();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        comboUpdate = new javax.swing.JComboBox();
        jLabel4 = new javax.swing.JLabel();
        tfUpdateID = new javax.swing.JTextField();
        lNewValue = new javax.swing.JLabel();
        tfNewValue = new javax.swing.JTextField();
        butUpdate = new javax.swing.JButton();
        butClearAll = new javax.swing.JButton();
        butClearTextPane = new javax.swing.JButton();
        comboSGT = new javax.swing.JComboBox();
        comboDewey1 = new javax.swing.JComboBox();
        comboDewey2 = new javax.swing.JComboBox();
        comboDewey3 = new javax.swing.JComboBox();

        lUpdateBook.setText("<html><b><u>Delete/update a book</u></b>");

        lID.setFont(new java.awt.Font("Ubuntu", 0, 14)); // NOI18N
        lID.setText("Book ID:");

        jLabel3.setText("<html><b>Delete</b>");

        butDelete.setText("Delete");
        butDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butDeleteActionPerformed(evt);
            }
        });

        groupUpdate.add(radFiction);
        radFiction.setText("Fiction");
        radFiction.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                radFictionItemStateChanged(evt);
            }
        });

        groupUpdate.add(radNonFiction);
        radNonFiction.setText("Non-fiction");

        groupUpdate.add(radDum);
        radDum.setText("dum");

        updateMessPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Messages", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.BELOW_TOP));

        jScrollPane1.setViewportView(textPane);

        javax.swing.GroupLayout updateMessPanelLayout = new javax.swing.GroupLayout(updateMessPanel);
        updateMessPanel.setLayout(updateMessPanelLayout);
        updateMessPanelLayout.setHorizontalGroup(
            updateMessPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(updateMessPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 290, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        updateMessPanelLayout.setVerticalGroup(
            updateMessPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(updateMessPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 267, Short.MAX_VALUE)
                .addContainerGap())
        );

        jLabel1.setText("<html><b>Update</b>");

        jLabel2.setText("Update:");

        comboUpdate.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        comboUpdate.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboUpdateItemStateChanged(evt);
            }
        });

        jLabel4.setText("Book ID:");

        lNewValue.setText("New value:");

        butUpdate.setText("Update");
        butUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butUpdateActionPerformed(evt);
            }
        });

        butClearAll.setText("Clear all");
        butClearAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butClearAllActionPerformed(evt);
            }
        });

        butClearTextPane.setText("Clear messages");
        butClearTextPane.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butClearTextPaneActionPerformed(evt);
            }
        });

        comboSGT.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        comboDewey1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        comboDewey1.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboDewey1ItemStateChanged(evt);
            }
        });

        comboDewey2.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        comboDewey2.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboDewey2ItemStateChanged(evt);
            }
        });

        comboDewey3.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(radDum)
                .addContainerGap(1023, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(butClearTextPane)
                        .addGap(35, 35, 35)
                        .addComponent(butClearAll))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 583, Short.MAX_VALUE)
                                .addComponent(butUpdate))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(lUpdateBook, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(44, 44, 44)
                                        .addComponent(radFiction)
                                        .addGap(49, 49, 49)
                                        .addComponent(radNonFiction))
                                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(12, 12, 12)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(layout.createSequentialGroup()
                                                .addComponent(lID)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                                .addComponent(tfDeleteID, javax.swing.GroupLayout.PREFERRED_SIZE, 284, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addGroup(layout.createSequentialGroup()
                                                .addGap(6, 6, 6)
                                                .addComponent(jLabel2)
                                                .addGap(18, 18, 18)
                                                .addComponent(comboUpdate, javax.swing.GroupLayout.PREFERRED_SIZE, 268, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(410, 410, 410)
                                        .addComponent(jLabel4)
                                        .addGap(18, 18, 18)
                                        .addComponent(tfUpdateID, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(lNewValue)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(tfNewValue, javax.swing.GroupLayout.DEFAULT_SIZE, 479, Short.MAX_VALUE)
                                            .addComponent(comboSGT, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(comboDewey1, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(comboDewey2, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(comboDewey3, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(butDelete))
                            .addComponent(jSeparator1))
                        .addGap(75, 75, 75)
                        .addComponent(updateMessPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(21, 21, 21))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lUpdateBook, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(radFiction)
                            .addComponent(radNonFiction))
                        .addGap(18, 18, 18)
                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lID)
                            .addComponent(tfDeleteID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(butDelete))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(comboUpdate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4)
                            .addComponent(tfUpdateID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(tfNewValue, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lNewValue)
                            .addComponent(butUpdate))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(comboSGT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(comboDewey1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(comboDewey2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(comboDewey3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(updateMessPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(butClearAll)
                    .addComponent(butClearTextPane))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 61, Short.MAX_VALUE)
                .addComponent(radDum)
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents

    //sproc DONE
    private void butDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butDeleteActionPerformed
        //same delete method for fiction and nonFiction
        Book book = new Book(Integer.parseInt(tfDeleteID.getText()));
        //title and author obtained from database in the constructor

        System.out.println("library.UpdateBookPanel.butDeleteActionPerformed(). book.toString(): " + book);

        if (book.deleteFromDatabase()) {
            driver.appendToPane(textPane, "Book deleted successfully.\n", Color.green);
        } else {
            driver.appendToPane(textPane, "Book could not be deleted.\n", Color.red);
        }

        /*if (radFiction.isSelected()) {
        //fiction
        Fiction book = new Fiction(Integer.parseInt(tfDeleteID.getText()));
        
        //perform deletion and inform user of success or failure.
        if (book.deleteFromDatabase()) {
        driver.appendToPane(textPane, "Book deleted successfully.\n", Color.green);
        } else {
        driver.appendToPane(textPane, "Book could not be deleted.\n", Color.red);
        }
        
        } else if (radNonFiction.isSelected()) {
        //nonFiction
        NonFiction book = new NonFiction(Integer.parseInt(tfDeleteID.getText()));
        
        if (book.deleteFromDatabase()) {
        driver.appendToPane(textPane, "Book deleted successfully.\n", Color.green);
        } else {
        driver.appendToPane(textPane, "Book could not be deleted.\n", Color.red);
        }
        
        } else {
        //neither selected
        driver.errorMessageNormal("Please select whether the book is fiction or non-fiction.");
        }*/
    }//GEN-LAST:event_butDeleteActionPerformed

    private void butUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butUpdateActionPerformed
        if (radFiction.isSelected()) {
            //fiction
            //<editor-fold defaultstate="collapsed" desc="fiction">
            Fiction book = new Fiction(Integer.parseInt(tfUpdateID.getText()));

            boolean success = false;

            switch (comboUpdate.getSelectedIndex()) {
                case 5: {
                    //genre
                    //get genre ID
                    Genre gen = new Genre(comboSGT.getSelectedItem().toString());
                    int id = gen.getId();

                    //execute update
                    success = book.updateInDatabase("genre", Integer.toString(id));

                    break;
                }
                case 6: {
                    //type
                    //get type ID
                    BookType type = new BookType(comboSGT.getSelectedItem().toString());
                    int id = type.getID();

                    success = book.updateInDatabase("typeOfBook", Integer.toString(id));
                    break;
                }
                case 8: {
                    //shop
                    Shop shop = new Shop(comboSGT.getSelectedItem().toString());
                    int id = shop.getID();

                    success = book.updateInDatabase("placeBought", Integer.toString(id));
                    break;
                }
                default: {
                    comboSGT.setVisible(true);
                    //execute update
                    success = book.updateInDatabase(comboUpdate.getSelectedItem().toString(),
                            tfNewValue.getText());
                }
            }

            //inform user of success/failure
            if (success) {
                //success
                driver.appendToPane(textPane, "Book updated successfully.\n", Color.green);
            } else {
                //fail
                driver.appendToPane(textPane, "Book could not be updated.\n", Color.red);
            }
//</editor-fold>
        } else if (radNonFiction.isSelected()) {
            //nonFiction
            //<editor-fold defaultstate="collapsed" desc="nonFiction">
            NonFiction book = new NonFiction(Integer.parseInt(tfUpdateID.getText()));

            boolean success = false;

            if (comboUpdate.getSelectedIndex() == 2) {
                //dewey number

                //get new dewey number
                int deweyNumber = comboDewey1.getSelectedIndex() * 100
                        + comboDewey2.getSelectedIndex() * 10
                        + comboDewey3.getSelectedIndex();

                //execute update
                success = book.updateInDatabase("deweyNumber", Integer.toString(deweyNumber));

            } else {
                //not dewey number
                success = book.updateInDatabase(comboUpdate.getSelectedItem().toString(),
                        tfNewValue.getText());
            }

            //inform user
            if (success) {
                //success
                driver.appendToPane(textPane, "Book updated successfully.\n", Color.green);
            } else {
                //fail
                driver.appendToPane(textPane, "Book could not be updated.\n", Color.red);
            }
//</editor-fold>

        } else {
            //niether selected
            driver.errorMessageNormal("Please select either fiction or non-fiction.");
        }
    }//GEN-LAST:event_butUpdateActionPerformed

    //clear all text
    private void butClearAllActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butClearAllActionPerformed
        textPane.setText("");
        tfDeleteID.setText("");
        tfNewValue.setText("");
        tfUpdateID.setText("");
        radDum.setSelected(true);
    }//GEN-LAST:event_butClearAllActionPerformed

    //clear messages from textPane
    private void butClearTextPaneActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butClearTextPaneActionPerformed
        textPane.setText("");
    }//GEN-LAST:event_butClearTextPaneActionPerformed

    private void radFictionItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_radFictionItemStateChanged
        setComboUpdateModel();
    }//GEN-LAST:event_radFictionItemStateChanged

    //set combos and textFields eidtable or enabled depending on what is selected.
    private void comboUpdateItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboUpdateItemStateChanged
        String item = comboUpdate.getSelectedItem().toString();
        if (item.equals("Genre")) {
            //genre
            comboSGT.setModel(driver.getComboBoxModel(1));
            comboSGT.setVisible(true);

            comboDewey1.setVisible(false);
            comboDewey2.setVisible(false);
            comboDewey3.setVisible(false);

            tfNewValue.setEditable(false);
            tfNewValue.setBackground(Color.gray);
        } else if (item.equals("Type of book")) {
            //type of book
            comboSGT.setModel(driver.getComboBoxModel(2));
            comboSGT.setVisible(true);

            comboDewey1.setVisible(false);
            comboDewey2.setVisible(false);
            comboDewey3.setVisible(false);

            tfNewValue.setEditable(false);
            tfNewValue.setBackground(new Color(214, 217, 223));

        } else if (item.equals("Place bought")) {
            //shop
            comboSGT.setModel(driver.getComboBoxModel(0));
            comboSGT.setVisible(true);

            comboDewey1.setVisible(false);
            comboDewey2.setVisible(false);
            comboDewey3.setVisible(false);

            tfNewValue.setEditable(false);
            tfNewValue.setBackground(new Color(214, 217, 223));

        } else if (item.equals("Dewey Number")) {
            //set dewey combos
            comboDewey1.setModel(driver.getComboBoxModel(3));

            comboDewey1.setVisible(true);
            comboDewey2.setVisible(true);
            comboDewey3.setVisible(true);

            comboSGT.setVisible(false);

            tfNewValue.setEditable(false);
            tfNewValue.setBackground(new Color(214, 217, 223));

        } else {
            tfNewValue.setEditable(true);
            tfNewValue.setBackground(Color.white);

            comboDewey1.setVisible(false);
            comboDewey2.setVisible(false);
            comboDewey3.setVisible(false);
            comboSGT.setVisible(false);
        }
    }//GEN-LAST:event_comboUpdateItemStateChanged

    private void comboDewey1ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboDewey1ItemStateChanged
        //set model for dewey2

        //get dewey level 1 number
        int dew1 = comboDewey1.getSelectedIndex() * 100;

        DefaultComboBoxModel model = driver.getDewey2Model(dew1, comboDewey1.getSelectedItem());

        //set dew2's model
        comboDewey2.setModel(model);
    }//GEN-LAST:event_comboDewey1ItemStateChanged

    private void comboDewey2ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboDewey2ItemStateChanged
        //set model for dewey3

        //get dewey level 2 number
        int dew2 = (comboDewey1.getSelectedIndex() * 100) + comboDewey2.getSelectedIndex() * 10;

        comboDewey3.setModel(driver.getDewey3Model(dew2, comboDewey2.getSelectedItem()));

    }//GEN-LAST:event_comboDewey2ItemStateChanged

    //set model of comboUpdate depending on whether fiction or nonFiction is selected
    private void setComboUpdateModel() {
        Object[] fields;

        if (radDum.isSelected() || radFiction.isSelected()) {
            //set to fiction Fields
            Object[] tempFields = {"Title", "Author", "Series", "Number in series",
                "First published", "Genre", "Type of book", "Price", "Place bought",
                "Month bought", "Year bought"};

            fields = tempFields;
        } else {
            //set to nonFiction fields
            Object[] tempFields = {"Title", "Author", "Dewey Number",
                "First published", "Price", "Place bought",
                "Month bought", "Year bought"};
            fields = tempFields;
        }

        //create comboBoxModel and set model
        DefaultComboBoxModel model = new DefaultComboBoxModel(fields);
        comboUpdate.setModel(model);
    }

    //get field name given index selected in comboBox
    private String getSelectedField(int x) {
        if (radFiction.isSelected()) {
            //set to fiction Fields
            String[] tempFields = {"Title", "Author", "Series", "NoInSeries",
                "FirstPublished", "Genre", "TypeOfBook", "Price", "PlaceBought",
                "Mnth", "Yr"};

            return tempFields[x];
        } else if (radNonFiction.isSelected()) {
            //set to nonFiction fields
            String[] tempFields = {"Title", "Author", "DeweyNumber",
                "FirstPublished", "Price", "PlaceBought",
                "Mnth", "Yr"};
            return tempFields[x];
        } else {
            driver.errorMessageNormal("Please select fiction or non-fiction.");
            return null;
        }
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton butClearAll;
    private javax.swing.JButton butClearTextPane;
    private javax.swing.JButton butDelete;
    private javax.swing.JButton butUpdate;
    private javax.swing.JComboBox comboDewey1;
    private javax.swing.JComboBox comboDewey2;
    private javax.swing.JComboBox comboDewey3;
    private javax.swing.JComboBox comboSGT;
    private javax.swing.JComboBox comboUpdate;
    private javax.swing.ButtonGroup groupUpdate;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JLabel lID;
    private javax.swing.JLabel lNewValue;
    private javax.swing.JLabel lUpdateBook;
    private javax.swing.JRadioButton radDum;
    private javax.swing.JRadioButton radFiction;
    private javax.swing.JRadioButton radNonFiction;
    private javax.swing.JTextPane textPane;
    private javax.swing.JTextField tfDeleteID;
    private javax.swing.JTextField tfNewValue;
    private javax.swing.JTextField tfUpdateID;
    private javax.swing.JPanel updateMessPanel;
    // End of variables declaration//GEN-END:variables
    private Driver driver = null;
}
